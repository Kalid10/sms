<template>
    <div class="grid h-full lg:grid-cols-2">
        <div
            class="col-span-1 flex h-full w-full flex-col items-center justify-center p-6 lg:items-end lg:p-16"
        >
            <form
                class="flex min-h-10 w-full max-w-lg flex-col gap-8"
                @submit.prevent="submit"
            >
                <div class="flex items-center gap-3 lg:hidden">
                    <svg
                        fill="none"
                        height="32"
                        viewBox="0 0 63 32"
                        width="63"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            class="stroke-brand-100"
                            d="M12.7773 20.7083L11.7188 24.4141L10.6602 20.7083C10.3866 19.7511 9.87357 18.8794 9.16961 18.1754C8.46565 17.4715 7.59393 16.9585 6.63672 16.6849L2.92969 15.625L6.63542 14.5664C7.59263 14.2928 8.46435 13.7798 9.16831 13.0759C9.87227 12.3719 10.3853 11.5002 10.6589 10.543L11.7188 6.83594L12.7773 10.5417C13.0509 11.4989 13.5639 12.3706 14.2679 13.0746C14.9719 13.7785 15.8436 14.2915 16.8008 14.5651L20.5078 15.625L16.8021 16.6836C15.8449 16.9572 14.9732 17.4702 14.2692 18.1741C13.5652 18.8781 13.0522 19.7498 12.7786 20.707L12.7773 20.7083ZM23.7747 11.3477L23.4375 12.6953L23.1003 11.3477C22.9072 10.575 22.5078 9.8693 21.9448 9.30603C21.3818 8.74276 20.6762 8.34309 19.9036 8.14974L18.5547 7.8125L19.9036 7.47526C20.6762 7.28191 21.3818 6.88224 21.9448 6.31897C22.5078 5.7557 22.9072 5.05002 23.1003 4.27734L23.4375 2.92969L23.7747 4.27734C23.9679 5.05018 24.3675 5.75597 24.9307 6.31926C25.494 6.88254 26.1998 7.28212 26.9727 7.47526L28.3203 7.8125L26.9727 8.14974C26.1998 8.34288 25.494 8.74246 24.9307 9.30574C24.3675 9.86903 23.9679 10.5748 23.7747 11.3477ZM21.9974 26.7799L21.4844 28.3203L20.9714 26.7799C20.8275 26.3485 20.5852 25.9564 20.2636 25.6348C19.942 25.3132 19.55 25.0709 19.1185 24.9271L17.5781 24.4141L19.1185 23.901C19.55 23.7572 19.942 23.5149 20.2636 23.1933C20.5852 22.8717 20.8275 22.4796 20.9714 22.0482L21.4844 20.5078L21.9974 22.0482C22.1412 22.4796 22.3835 22.8717 22.7051 23.1933C23.0267 23.5149 23.4188 23.7572 23.8503 23.901L25.3906 24.4141L23.8503 24.9271C23.4188 25.0709 23.0267 25.3132 22.7051 25.6348C22.3835 25.9564 22.1412 26.3485 21.9974 26.7799Z"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                        />
                        <path
                            class="fill-brand-100"
                            d="M46.4844 3.65234C46.6076 3.59857 46.7406 3.57082 46.875 3.57082C47.0094 3.57082 47.1424 3.59857 47.2656 3.65234C52.0808 5.75703 56.6739 8.3371 60.9766 11.3542C61.1282 11.4605 61.2465 11.6078 61.3176 11.7788C61.3887 11.9498 61.4097 12.1375 61.3782 12.32C61.3466 12.5025 61.2639 12.6722 61.1395 12.8095C61.0151 12.9467 60.8543 13.0458 60.6758 13.0951C56.2088 14.3288 51.8865 16.0364 47.7826 18.1888L47.7786 18.1914L47.3359 18.4258C47.1943 18.5015 47.0362 18.5411 46.8757 18.5411C46.7151 18.5411 46.557 18.5015 46.4154 18.4258C44.6558 17.4854 42.854 16.6265 41.0156 15.8516V15.5599C41.0156 15.3893 41.1029 15.237 41.2396 15.1549C43.2049 13.9639 45.2268 12.8689 47.2982 11.8737C47.5316 11.7615 47.7109 11.5611 47.7966 11.3167C47.8823 11.0722 47.8674 10.8038 47.7552 10.5703C47.643 10.3369 47.4426 10.1576 47.1982 10.0719C46.9537 9.98615 46.6853 10.001 46.4518 10.1133C44.3239 11.1358 42.2469 12.2608 40.2279 13.4844C39.9406 13.6586 39.6928 13.8908 39.5003 14.1661C39.3077 14.4414 39.1746 14.7538 39.1094 15.0833C37.1318 14.3224 35.1181 13.6588 33.0755 13.0951C32.897 13.0458 32.7362 12.9467 32.6118 12.8095C32.4875 12.6722 32.4047 12.5025 32.3731 12.32C32.3416 12.1375 32.3626 11.9498 32.4337 11.7788C32.5048 11.6078 32.6231 11.4605 32.7747 11.3542C37.077 8.3372 41.6697 5.75713 46.4844 3.65234Z"
                        />
                        <path
                            class="fill-brand-100"
                            d="M48.2552 20.1471C51.4534 18.4384 54.793 17.0087 58.2369 15.8737C58.4114 17.7148 58.5234 19.5755 58.569 21.4531C58.5737 21.6496 58.5191 21.8429 58.4123 22.0079C58.3054 22.1728 58.1513 22.3017 57.97 22.3776C54.279 23.9192 50.7449 25.8125 47.4166 28.0312C47.2562 28.1382 47.0677 28.1952 46.8749 28.1952C46.6822 28.1952 46.4937 28.1382 46.3333 28.0312C43.0054 25.8126 39.4718 23.9193 35.7812 22.3776C35.5997 22.3019 35.4453 22.1731 35.3382 22.0081C35.2311 21.8432 35.1763 21.6497 35.1809 21.4531C35.2265 19.5755 35.3385 17.7161 35.513 15.8724C36.7087 16.2665 37.8924 16.6964 39.0625 17.1615V18.8151C38.7811 18.9772 38.5446 19.2069 38.3744 19.4834C38.2041 19.7598 38.1055 20.0744 38.0874 20.3986C38.0693 20.7228 38.1323 21.0463 38.2707 21.3401C38.4092 21.6338 38.6186 21.8883 38.8802 22.0807C38.763 22.5755 38.5911 23.0612 38.3632 23.526C38.9518 23.8034 39.5364 24.0911 40.1158 24.3867C40.4425 23.7219 40.6836 23.0184 40.8333 22.293C41.1626 22.1466 41.4449 21.9119 41.6491 21.615C41.8533 21.3181 41.9714 20.9704 41.9902 20.6106C42.0091 20.2507 41.928 19.8926 41.756 19.576C41.584 19.2593 41.3277 18.9964 41.0156 18.8164V17.9766C42.5366 18.6414 44.0308 19.3659 45.4947 20.1484C45.9194 20.3753 46.3935 20.4939 46.8749 20.4939C47.3564 20.4939 47.8305 20.3753 48.2552 20.1484V20.1471Z"
                        />
                        <path
                            class="fill-brand-100"
                            d="M37.06 25.3411C37.6069 24.7956 38.0405 24.1823 38.3621 23.526C38.9519 23.8034 39.5366 24.0911 40.116 24.3867C39.6899 25.2521 39.1242 26.0413 38.4415 26.7227C38.3521 26.8186 38.2443 26.8956 38.1245 26.9489C38.0047 27.0023 37.8754 27.031 37.7443 27.0333C37.6132 27.0356 37.4829 27.0115 37.3613 26.9624C37.2397 26.9133 37.1292 26.8402 37.0365 26.7474C36.9438 26.6547 36.8707 26.5443 36.8216 26.4227C36.7724 26.3011 36.7483 26.1708 36.7506 26.0397C36.753 25.9086 36.7817 25.7792 36.835 25.6595C36.8884 25.5397 36.9654 25.4319 37.0613 25.3424L37.06 25.3411Z"
                        />
                    </svg>
                    <h3 class="font-semibold text-brand-100">
                        <span>rigel</span>
                        <span class="font-bold">.EDU</span>
                    </h3>
                </div>

                <div class="flex flex-col gap-4">


                    <h3 class="text-xl font-semibold">
                        {{ $t('login.welcomeBack') }}
                    </h3>


                    <h3 class="text-gray-500">
                        {{ $t('login.messageOne') }}

                    </h3>
                </div>

                <fieldset class="flex flex-col gap-6">
                    <div class="flex flex-col gap-3">
                        <TextInput
                            v-model="form.emailOrPhone"
                            class="w-full"
                            :label="$t('login.emailOrPhoneLabel')"
                            placeholder="johndoe@school.org"
                            required
                            :error="form.errors.emailOrPhone"
                            type="email"
                        />
                        <TextInput
                            v-model="form.password"
                            class="w-full"
                            :label="$t('login.passwordLabel')"
                            placeholder="**********"
                            required
                            type="password"
                        />
                    </div>

                    <button
                        class="h-10 w-full rounded-md border-brand-50 bg-brand-100 text-center font-semibold text-white"
                        type="submit"
                         >
                        {{ $t('login.logIn') }}

                    </button>

                </fieldset>
            </form>
        </div>

        <div
            class="col-span-1 flex h-full w-full flex-col justify-center gap-4 bg-brand-100 p-6 lg:items-start lg:p-16"
        >
            <div class="hidden items-center gap-3 lg:flex">
                <svg
                    fill="none"
                    height="32"
                    viewBox="0 0 63 32"
                    width="63"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M12.7773 20.7083L11.7188 24.4141L10.6602 20.7083C10.3866 19.7511 9.87357 18.8794 9.16961 18.1754C8.46565 17.4715 7.59393 16.9585 6.63672 16.6849L2.92969 15.625L6.63542 14.5664C7.59263 14.2928 8.46435 13.7798 9.16831 13.0759C9.87227 12.3719 10.3853 11.5002 10.6589 10.543L11.7188 6.83594L12.7773 10.5417C13.0509 11.4989 13.5639 12.3706 14.2679 13.0746C14.9719 13.7785 15.8436 14.2915 16.8008 14.5651L20.5078 15.625L16.8021 16.6836C15.8449 16.9572 14.9732 17.4702 14.2692 18.1741C13.5652 18.8781 13.0522 19.7498 12.7786 20.707L12.7773 20.7083ZM23.7747 11.3477L23.4375 12.6953L23.1003 11.3477C22.9072 10.575 22.5078 9.8693 21.9448 9.30603C21.3818 8.74276 20.6762 8.34309 19.9036 8.14974L18.5547 7.8125L19.9036 7.47526C20.6762 7.28191 21.3818 6.88224 21.9448 6.31897C22.5078 5.7557 22.9072 5.05002 23.1003 4.27734L23.4375 2.92969L23.7747 4.27734C23.9679 5.05018 24.3675 5.75597 24.9307 6.31926C25.494 6.88254 26.1998 7.28212 26.9727 7.47526L28.3203 7.8125L26.9727 8.14974C26.1998 8.34288 25.494 8.74246 24.9307 9.30574C24.3675 9.86903 23.9679 10.5748 23.7747 11.3477ZM21.9974 26.7799L21.4844 28.3203L20.9714 26.7799C20.8275 26.3485 20.5852 25.9564 20.2636 25.6348C19.942 25.3132 19.55 25.0709 19.1185 24.9271L17.5781 24.4141L19.1185 23.901C19.55 23.7572 19.942 23.5149 20.2636 23.1933C20.5852 22.8717 20.8275 22.4796 20.9714 22.0482L21.4844 20.5078L21.9974 22.0482C22.1412 22.4796 22.3835 22.8717 22.7051 23.1933C23.0267 23.5149 23.4188 23.7572 23.8503 23.901L25.3906 24.4141L23.8503 24.9271C23.4188 25.0709 23.0267 25.3132 22.7051 25.6348C22.3835 25.9564 22.1412 26.3485 21.9974 26.7799Z"
                        stroke="white"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                    />
                    <path
                        d="M46.4844 3.65234C46.6076 3.59857 46.7406 3.57082 46.875 3.57082C47.0094 3.57082 47.1424 3.59857 47.2656 3.65234C52.0808 5.75703 56.6739 8.3371 60.9766 11.3542C61.1282 11.4605 61.2465 11.6078 61.3176 11.7788C61.3887 11.9498 61.4097 12.1375 61.3782 12.32C61.3466 12.5025 61.2639 12.6722 61.1395 12.8095C61.0151 12.9467 60.8543 13.0458 60.6758 13.0951C56.2088 14.3288 51.8865 16.0364 47.7826 18.1888L47.7786 18.1914L47.3359 18.4258C47.1943 18.5015 47.0362 18.5411 46.8757 18.5411C46.7151 18.5411 46.557 18.5015 46.4154 18.4258C44.6558 17.4854 42.854 16.6265 41.0156 15.8516V15.5599C41.0156 15.3893 41.1029 15.237 41.2396 15.1549C43.2049 13.9639 45.2268 12.8689 47.2982 11.8737C47.5316 11.7615 47.7109 11.5611 47.7966 11.3167C47.8823 11.0722 47.8674 10.8038 47.7552 10.5703C47.643 10.3369 47.4426 10.1576 47.1982 10.0719C46.9537 9.98615 46.6853 10.001 46.4518 10.1133C44.3239 11.1358 42.2469 12.2608 40.2279 13.4844C39.9406 13.6586 39.6928 13.8908 39.5003 14.1661C39.3077 14.4414 39.1746 14.7538 39.1094 15.0833C37.1318 14.3224 35.1181 13.6588 33.0755 13.0951C32.897 13.0458 32.7362 12.9467 32.6118 12.8095C32.4875 12.6722 32.4047 12.5025 32.3731 12.32C32.3416 12.1375 32.3626 11.9498 32.4337 11.7788C32.5048 11.6078 32.6231 11.4605 32.7747 11.3542C37.077 8.3372 41.6697 5.75713 46.4844 3.65234Z"
                        fill="white"
                    />
                    <path
                        d="M48.2552 20.1471C51.4534 18.4384 54.793 17.0087 58.2369 15.8737C58.4114 17.7148 58.5234 19.5755 58.569 21.4531C58.5737 21.6496 58.5191 21.8429 58.4123 22.0079C58.3054 22.1728 58.1513 22.3017 57.97 22.3776C54.279 23.9192 50.7449 25.8125 47.4166 28.0312C47.2562 28.1382 47.0677 28.1952 46.8749 28.1952C46.6822 28.1952 46.4937 28.1382 46.3333 28.0312C43.0054 25.8126 39.4718 23.9193 35.7812 22.3776C35.5997 22.3019 35.4453 22.1731 35.3382 22.0081C35.2311 21.8432 35.1763 21.6497 35.1809 21.4531C35.2265 19.5755 35.3385 17.7161 35.513 15.8724C36.7087 16.2665 37.8924 16.6964 39.0625 17.1615V18.8151C38.7811 18.9772 38.5446 19.2069 38.3744 19.4834C38.2041 19.7598 38.1055 20.0744 38.0874 20.3986C38.0693 20.7228 38.1323 21.0463 38.2707 21.3401C38.4092 21.6338 38.6186 21.8883 38.8802 22.0807C38.763 22.5755 38.5911 23.0612 38.3632 23.526C38.9518 23.8034 39.5364 24.0911 40.1158 24.3867C40.4425 23.7219 40.6836 23.0184 40.8333 22.293C41.1626 22.1466 41.4449 21.9119 41.6491 21.615C41.8533 21.3181 41.9714 20.9704 41.9902 20.6106C42.0091 20.2507 41.928 19.8926 41.756 19.576C41.584 19.2593 41.3277 18.9964 41.0156 18.8164V17.9766C42.5366 18.6414 44.0308 19.3659 45.4947 20.1484C45.9194 20.3753 46.3935 20.4939 46.8749 20.4939C47.3564 20.4939 47.8305 20.3753 48.2552 20.1484V20.1471Z"
                        fill="white"
                    />
                    <path
                        d="M37.06 25.3411C37.6069 24.7956 38.0405 24.1823 38.3621 23.526C38.9519 23.8034 39.5366 24.0911 40.116 24.3867C39.6899 25.2521 39.1242 26.0413 38.4415 26.7227C38.3521 26.8186 38.2443 26.8956 38.1245 26.9489C38.0047 27.0023 37.8754 27.031 37.7443 27.0333C37.6132 27.0356 37.4829 27.0115 37.3613 26.9624C37.2397 26.9133 37.1292 26.8402 37.0365 26.7474C36.9438 26.6547 36.8707 26.5443 36.8216 26.4227C36.7724 26.3011 36.7483 26.1708 36.7506 26.0397C36.753 25.9086 36.7817 25.7792 36.835 25.6595C36.8884 25.5397 36.9654 25.4319 37.0613 25.3424L37.06 25.3411Z"
                        fill="white"
                    />
                </svg>
                <h3 class="font-semibold text-white">
                    <span>rigel</span>
                    <span class="font-bold">.EDU</span>
                </h3>
            </div>

            <h1 class="text-3xl font-extrabold leading-none text-white lg:text-6xl">
                <transition name="fade" mode="out-in">
                    <span :key="firstText">{{ firstText }}</span>
                </transition>
                <transition name="fade" mode="out-in">
                    <span :key="secondText" class="inline lg:block">{{ secondText }}</span>
                </transition>
            </h1>

            <h3 class="max-w-xl font-medium text-white"
            >
                {{ $t('login.messageTwo') }}
                <span
class="block py-3"
                      v-html="$t('login.signIn')"
                > </span
                >
            </h3>
        </div>
    </div>
</template>

<script setup>
import {useForm} from "@inertiajs/vue3";
import TextInput from "@/Components/TextInput.vue";
import {onMounted, onUnmounted, ref} from "vue";
import {useI18n} from "vue-i18n";
const {t} = useI18n()

const form = useForm({
    emailOrPhone: "",
    password: "",
});

// Submit form
const submit = () => {
    form.post("/login", {
        onError: (errors) => {
            if (errors.emailOrPhone) {
                form.password = "";
            }
        },
    });
};

const firstTexts = [t('login.firstTexts[0]'), t('login.firstTexts[1]'),t('login.firstTexts[2]')];
const secondTexts = [t('login.secondTexts[0]'), t('login.secondTexts[1]'), t('login.secondTexts[2]')];

let index = 0;

const firstText = ref(firstTexts[index]);
const secondText = ref(secondTexts[index]);

onMounted(() => {
    const interval = setInterval(() => {
        index = (index + 1) % firstTexts.length;  // loop back to 0 when we reach the end
        firstText.value = firstTexts[index];
        secondText.value = secondTexts[index];
    }, 5000);  // change text every 3 seconds-->

    // Clear the interval when the component is unmounted
    onUnmounted(() => {
        clearInterval(interval);
    });
});
</script>

<style scoped>
.fade-enter-active, .fade-leave-active {
    transition: opacity 0.2s;
}

.fade-enter, .fade-leave-to {
    opacity: 0;
}
</style>
